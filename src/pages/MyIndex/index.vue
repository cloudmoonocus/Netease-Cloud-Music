<template>
    <!-- ‚ÄúÊàëÁöÑ‚ÄùÈ°µÈù¢Êúâ ‚ÄúÊúÄËøëÊí≠ÊîæÔºàÊ≠åÊõ≤Ôºâ‚Äù ‚ÄúÂ∑≤Ë¥≠ÔºàÂçïÊõ≤Ôºâ‚Äù ‚ÄúÊàëÁöÑÂ•ΩÂèãÔºàÂÖ≥Ê≥®ÔºâÔºàÁ≤â‰∏ùÔºâ‚Äù ‚ÄúÊî∂ËóèÔºàÊó†ÔºöÂ£∞Èü≥„ÄÅKÊ≠å„ÄÅÁõ¥Êí≠Ôºâ‚ÄùÁïåÈù¢ -->
    <router-view />
    <div v-if="$route.path == '/myindex'">
        <!-- ‰∏ªÈ°µÂ§¥ÈÉ® -->
        <div class="myHead">
            <img src="https://avatars.githubusercontent.com/u/98140702?s=96&v=4" alt="‰Ω†ÁöÑÂ§¥ÂÉè" class="headImage" />
            <div class="headName">cloudmoon</div>
            <div class="headInfor">
                 2 ÂÖ≥Ê≥® | 1 Á≤â‰∏ù | Lv.7
            </div>
        </div>
        <!-- ÂäüËÉΩÂàóË°® -->
        <div class="second">
            <van-grid :gutter="5" class="grid" icon-size="25px" column-num="4">
                <van-grid-item v-for="value in grids" :key="value.id" :icon="value.icon" :text="value.text"
                    :to="value.path" class="gridIn" />
            </van-grid>
        </div>
        <!-- ÂñúÊ¨¢ÁöÑÈü≥‰πê -->
        <div class="third">
            <img src="https://p1.music.126.net/E5JYsO4DR4_Y-CdidpUVCw==/109951164473460772.jpg?param=140y140"
                alt="ÂñúÊ¨¢ÁöÑÈü≥‰πê" />
            <div>ÊàëÂñúÊ¨¢ÁöÑÈü≥‰πê</div>
            <div>43È¶ñ</div>
            <div>
                <van-icon name="like" />
                <span>ÂøÉÂä®Ê®°Âºè</span>
            </div>
        </div>
        <!-- ÂàõÂª∫Ê≠åÂçï -->
        <div class="fourth">
            <div>
                <span>ÂàõÂª∫Ê≠åÂçï(3‰∏™)</span>
                <van-icon name="plus" class="plus" @click="isCreateShow" />
            </div>
            <div>
                <!-- Ê≠åÂçï -->
                <div class="card">
                    <img src="https://p1.music.126.net/E5JYsO4DR4_Y-CdidpUVCw==/109951164473460772.jpg?param=140y140"
                        alt="Ê≠åÂçïÂç†‰Ωç" />
                    <div>Ê≠åÂçïÂç†‰Ωç</div>
                    <div>43È¶ñ</div>
                    <div>
                        <van-icon name="more-o" @click="isMoreShow" />
                    </div>
                </div>
                <div class="card">
                    <img src="https://p1.music.126.net/E5JYsO4DR4_Y-CdidpUVCw==/109951164473460772.jpg?param=140y140"
                        alt="Ê≠åÂçïÂç†‰Ωç" />
                    <div>Ê≠åÂçïÂç†‰Ωç</div>
                    <div>43È¶ñ</div>
                    <div>
                        <van-icon name="more-o" @click="isMoreShow" />
                    </div>
                </div>
                <div class="card">
                    <img src="https://p1.music.126.net/E5JYsO4DR4_Y-CdidpUVCw==/109951164473460772.jpg?param=140y140"
                        alt="Ê≠åÂçïÂç†‰Ωç" />
                    <div>Ê≠åÂçïÂç†‰Ωç</div>
                    <div>43È¶ñ</div>
                    <div>
                        <van-icon name="more-o" @click="isMoreShow" />
                    </div>
                </div>
            </div>
        </div>
        <!-- ÂàõÂª∫Ê≠åÂçïÂºπÂá∫Â±Ç -->
        <van-action-sheet v-model:show="createShow" title="ÂàõÂª∫Èü≥‰πêÊ≠åÂçï">
            <van-cell-group inset>
                <van-field v-model="newMusicList" placeholder="ËæìÂÖ•Êñ∞Âª∫Ê≠åÂçïÊ†áÈ¢òÂêç" maxlength="40" clearable required autofocus />
                <van-checkbox-group v-model="checked">
                    <van-checkbox name="shareList" class="checked" checked-color="#e60026">ËÆæÁΩÆ‰∏∫ÂÖ±‰∫´Ê≠åÂçïÔºàÂíåÂ•ΩÂèã‰∏ÄËµ∑ÁÆ°ÁêÜÔºâ
                        <van-tag round type="danger">ÈôêÂÖç30Â§©</van-tag>
                    </van-checkbox>
                    <van-checkbox name="privateList" class="checked" checked-color="#e60026">ËÆæÁΩÆ‰∏∫ÁßÅÂØÜÊ≠åÂçï</van-checkbox>
                </van-checkbox-group>
                <van-button round type="primary" size="large" class="submitList" color="#e60026">ÂÆåÊàêÂàõÂª∫</van-button>
            </van-cell-group>
        </van-action-sheet>
        <!-- Êî∂ËóèÊ≠åÂçï -->
        <div class="fourth">
            <div>
                <span>Êî∂ËóèÊ≠åÂçï(5‰∏™)</span>
            </div>
            <div>
                <!-- Ê≠åÂçï -->
                <div class="card">
                    <img src="https://p1.music.126.net/E5JYsO4DR4_Y-CdidpUVCw==/109951164473460772.jpg?param=140y140"
                        alt="Êî∂ËóèÊ≠åÂçïÂç†‰Ωç" />
                    <div>Êî∂ËóèÊ≠åÂçïÂç†‰Ωç</div>
                    <div>xxxxx</div>
                    <div>
                        <van-icon name="more-o" @click="isMoreShow" />
                    </div>
                </div>
                <div class="card">
                    <img src="https://p1.music.126.net/E5JYsO4DR4_Y-CdidpUVCw==/109951164473460772.jpg?param=140y140"
                        alt="Êî∂ËóèÊ≠åÂçïÂç†‰Ωç" />
                    <div>Êî∂ËóèÊ≠åÂçïÂç†‰Ωç</div>
                    <div>xxxxx</div>
                    <div>
                        <van-icon name="more-o" @click="isMoreShow" />
                    </div>
                </div>
                <div class="card">
                    <img src="https://p1.music.126.net/E5JYsO4DR4_Y-CdidpUVCw==/109951164473460772.jpg?param=140y140"
                        alt="Êî∂ËóèÊ≠åÂçïÂç†‰Ωç" />
                    <div>Êî∂ËóèÊ≠åÂçïÂç†‰Ωç</div>
                    <div>xxxxx</div>
                    <div>
                        <van-icon name="more-o" @click="isMoreShow" />
                    </div>
                </div>
            </div>
        </div>
        <!-- Ê≠åÂçïÊìç‰Ωú -->
        <van-action-sheet v-model:show="moreShow" title="Ê≠åÂçï:&nbsp;Ê¨ßÁæéÊµÅË°å">
            <van-button size="large" color="#fff" style="color: #000;" icon="share-o" type="primary" @click="isShare">
                ÂàÜ‰∫´
            </van-button>
            <van-button size="large" color="#fff" style="color: #000; margin-bottom: 10px;" icon="delete-o"
                type="primary" @click="deleteList">
                Âà†Èô§
            </van-button>
        </van-action-sheet>
        <!-- ÂàÜ‰∫´ÂºπÂá∫Â±Ç -->
        <van-share-sheet v-model:show="showShare" title="Á´ãÂç≥ÂàÜ‰∫´" :options="options" style="background-color: #fff;" />
        <!-- Â∫ïÈÉ® -->
        <Tip />
        <!-- Èò≤Ê≠¢Â∫ïÈÉ®ÈÅÆÊå° -->
        <div style="height: 60px; width: 100%"></div>
    </div>
</template>

<script>
import {
    Grid, GridItem, Swipe, SwipeItem, Icon, Divider, ActionSheet,
    Field, CellGroup, Checkbox, CheckboxGroup, Tag, Button, ShareSheet, Dialog, Notify
} from 'vant';
import { Image as VanImage } from 'vant';
import Tip from '@/components/Tip';
import { ref } from 'vue';

export default {
    name: 'MyIndex',
    setup() {
        // ÂäüËÉΩÂàóË°®
        const grids = [
            { id: 1, icon: 'play-circle', text: 'ÊúÄËøëÊí≠Êîæ', path: '/myindex/rencently' },
            { id: 2, icon: 'graphic', text: 'Êú¨Âú∞/‰∏ãËΩΩ', path: '/myindex/local-download' },
            { id: 3, icon: 'live', text: '‰∫ëÁõò', path: '/myindex/cloudpan' },
            { id: 4, icon: 'shop-collect', text: 'Â∑≤Ë¥≠', path: '/myindex/buy' },
            { id: 5, icon: 'manager', text: 'ÊàëÁöÑÂ•ΩÂèã', path: '/myindex/friends' },
            { id: 6, icon: 'like', text: 'Êî∂ËóèÂíåËµû', path: '/myindex/collection-praise' },
            { id: 7, icon: 'audio', text: 'ÊàëÁöÑÊí≠ÂÆ¢', path: '/myindex/index-podcast' },
            { id: 8, icon: 'new', text: 'Èü≥‰πêÁΩêÂ≠ê', path: '/myindex/musicbottle' },
        ];

        // Âà§Êñ≠Â±ïÁ§∫ÂàõÂª∫Ê≠åÂçïÁöÑÂºπÂá∫Ê°Ü
        const createShow = ref(false);
        function isCreateShow() {
            createShow.value = !createShow.value;
        }
        // Êñ∞Ê≠åÂçïÁöÑÂêçÂ≠ó
        const newMusicList = ref('');
        // Êñ∞Ê≠åÂçïÁöÑÈÄâÈ°π(Âè™Ë¶ÅÂíåÈÄâÊã©Ê°ÜÁöÑnameÂ±ûÊÄßÁõ∏ÂêåÂ∞±‰∏∫ÈÄâ‰∏≠)
        const checked = ref(['no', 'no']);

        // Âà§Êñ≠Â±ïÁ§∫Ê≠åÂçïÊìç‰ΩúÁöÑÂºπÂá∫Ê°Ü
        const moreShow = ref(false);
        function isMoreShow() {
            moreShow.value = !moreShow.value;
        }
        // ÁÇπÂáªÂàÜ‰∫´ÊëÅÈíÆÁöÑÊìç‰Ωú
        const showShare = ref(false);
        function isShare() {
            moreShow.value = false;
            showShare.value = true;
        }
        // ÂàÜ‰∫´ÁöÑÂõæÁâáÂíåÊñáÂ≠ó
        const options = [
            [
                { name: 'Â§çÂà∂ÈìæÊé•', icon: 'link' },
                { name: 'ÂæÆ‰ø°', icon: 'wechat' },
                { name: 'ÊúãÂèãÂúà', icon: 'wechat-moments' },
                { name: 'ÂæÆÂçö', icon: 'weibo' },
                { name: 'QQ', icon: 'qq' },
            ]
        ];
        // Âà†Èô§Ê≠åÂçï
        function deleteList() {
            moreShow.value = false;
            Dialog.confirm({
                title: 'WARM PROMPT',
                message:
                    'Á°ÆÂÆöË¶ÅÂà†Èô§Ê≠§Ê≠åÂçïÂêó?',
            })
                .then(() => {
                    // Á°ÆËÆ§ÁöÑË∞ÉÁî®
                    Notify({ type: 'success', message: 'üîîÂà†Èô§ÊàêÂäüÔºÅ', color: "#fff", background: "#e60026" });
                })
                .catch(() => {
                    // ÂèñÊ∂àÁöÑË∞ÉÁî®
                });
        }


        return { grids, isCreateShow, isMoreShow, createShow, moreShow, newMusicList, checked, isShare, showShare, options, deleteList, Dialog };
    },
    components: {
        Tip,
        VanGrid: Grid,
        VanGridItem: GridItem,
        VanSwipe: Swipe,
        VanSwipeItem: SwipeItem,
        VanImage: VanImage,
        VanIcon: Icon,
        VanDivider: Divider,
        VanActionSheet: ActionSheet,
        VanCellGroup: CellGroup,
        VanField: Field,
        VanCheckboxGroup: CheckboxGroup,
        VanCheckbox: Checkbox,
        VanTag: Tag,
        VanButton: Button,
        VanShareSheet: ShareSheet,
    },
};
</script>

<style lang="less" scoped>
.myHead {
    position: relative;
    margin: 0 auto;
    margin-top: 40px;
    border-radius: 10px;
    width: 90%;
    height: 110px;
    background-color: #fff;

    .headImage {
        position: absolute;
        margin: 0 auto;
        top: -30%;
        left: 50%;
        transform: translateX(-50%);
        border-radius: 50px;
        height: 75px;
    }

    .headName {
        position: absolute;
        top: 50px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 15px;
        font-weight: 700;
    }

    .headInfor {
        position: absolute;
        top: 80px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 10px;
        color: rgb(122, 119, 119);
    }
}

.second {
    .grid {
        margin: 0 auto;
        margin-top: 10px;
        width: 92%;
    }

    .gridIn {
        color: #e60026;
    }
}

.third {
    position: relative;
    margin: 0 auto;
    margin-top: 10px;
    height: 90px;
    width: 90%;
    background-color: #fff;
    border-radius: 10px;

    img:nth-child(1) {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        margin-left: 15px;
        height: 60px;
        border-radius: 10px;
    }

    div:nth-child(2) {
        position: absolute;
        top: 30%;
        left: 85px;
        font-size: 15px;
    }

    div:nth-child(3) {
        position: absolute;
        top: 52%;
        left: 85px;
        font-size: 10px;
        font-weight: 700;
        color: rgb(122, 119, 119);
    }

    div:nth-child(4) {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        right: 10px;
        border: #eee solid 1px;
        padding: 3px;
        width: 70px;
        border-radius: 10px;
        font-size: 13px;
    }
}

.fourth {
    margin: 0 auto;
    margin-top: 10px;
    padding-top: 15px;
    border-radius: 10px;
    width: 90%;
    background-color: #fff;

    div:nth-child(1)::after {
        content: '';
        display: block;
        height: 0;
        clear: both;
        visibility: hidden;
    }

    div:nth-child(1) {
        font-size: 13px;
        color: rgb(122, 119, 119);

        span {
            float: left;
            margin-left: 15px;
        }

        .plus {
            float: right;
            font-size: 23px;
            margin-right: 10px;
        }

        .more-o {
            float: right;
            font-size: 22px;
            margin-right: 15px;
        }
    }

    div:nth-child(2) {
        .card {
            position: relative;
            height: 90px;

            img:nth-child(1) {
                position: absolute;
                top: 50%;
                transform: translateY(-50%);
                margin-left: 15px;
                height: 60px;
                border-radius: 10px;
            }

            div:nth-child(2) {
                position: absolute;
                top: 30%;
                left: 85px;
                font-size: 15px;
                color: #000;
            }

            div:nth-child(3) {
                position: absolute;
                top: 52%;
                left: 85px;
                font-size: 10px;
                font-weight: 700;
                color: rgb(122, 119, 119);
            }

            div:nth-child(4) {
                position: absolute;
                top: 50%;
                transform: translateY(-50%);
                right: 10px;
                font-size: 22px;
                color: rgb(122, 119, 119);
            }
        }
    }
}

.checked {
    margin-top: 10px;
    margin-left: 10px;
    font-size: 13px;
}

.submitList {
    margin-top: 15px;
    margin-bottom: 20px;
    width: 50%;
    height: 43px;
    margin-left: 50%;
    transform: translateX(-50%);
}

.showShare {
    background-color: #fff;
}
</style>
